{
  "fileName": "instructions.ts",
  "filePath": "token/js/src/extensions/transferFee/instructions.ts",
  "url": "https://github.com/solana-labs/solana-program-library/token/js/src/extensions/transferFee/instructions.ts",
  "summary": "This code is part of the Solana Program Library and provides functionality for handling transfer fees in the SPL Token program. It defines various instructions related to transfer fees, such as initializing transfer fee configuration, transferring tokens with fees, withdrawing withheld tokens from mint or accounts, and harvesting withheld tokens to mint.\n\nFor example, the `createInitializeTransferFeeConfigInstruction` function constructs an instruction to initialize the transfer fee configuration for a given token mint. It takes parameters like the mint's public key, transfer fee config authority, withdraw withheld authority, transfer fee basis points, and maximum fee.\n\nAnother example is the `createTransferCheckedWithFeeInstruction` function, which constructs an instruction to transfer tokens with fees. It takes parameters like source and destination accounts, mint, authority, amount, decimals, and fee.\n\nThese instructions can be added to a transaction and executed on the Solana blockchain. The code also provides functions to decode and validate these instructions, such as `decodeInitializeTransferFeeConfigInstruction` and `decodeTransferCheckedWithFeeInstruction`.\n\nHere's an example of how to use the `createInitializeTransferFeeConfigInstruction` function:\n\n```javascript\nimport { createInitializeTransferFeeConfigInstruction } from './path/to/this/file';\n\nconst mint = new PublicKey('MINT_PUBLIC_KEY');\nconst transferFeeConfigAuthority = new PublicKey('AUTHORITY_PUBLIC_KEY');\nconst withdrawWithheldAuthority = new PublicKey('WITHDRAW_AUTHORITY_PUBLIC_KEY');\nconst transferFeeBasisPoints = 25; // 0.25% fee\nconst maximumFee = BigInt(1000000); // Maximum fee of 1 token\n\nconst instruction = createInitializeTransferFeeConfigInstruction(\n  mint,\n  transferFeeConfigAuthority,\n  withdrawWithheldAuthority,\n  transferFeeBasisPoints,\n  maximumFee\n);\n```\n\nThis example creates an instruction to initialize the transfer fee configuration for a given mint, which can then be added to a transaction and sent to the Solana network.",
  "questions": "1. **What is the purpose of the `TransferFeeInstruction` enum?**\n\n   The `TransferFeeInstruction` enum is used to define the different types of transfer fee instructions that can be executed in the Solana program library. These instructions include initializing transfer fee configuration, transferring tokens with fees, withdrawing withheld tokens from mint, withdrawing withheld tokens from accounts, harvesting withheld tokens to mint, and setting transfer fees.\n\n2. **How does the `createInitializeTransferFeeConfigInstruction` function work?**\n\n   The `createInitializeTransferFeeConfigInstruction` function is used to construct an InitializeTransferFeeConfig instruction. It takes parameters such as the token mint account, transfer fee configuration authority, withdraw withheld authority, transfer fee basis points, maximum fee, and the program ID. It then checks if the program supports extensions and creates a new transaction instruction with the provided keys, program ID, and encoded data.\n\n3. **What is the purpose of the `decodeInitializeTransferFeeConfigInstruction` function?**\n\n   The `decodeInitializeTransferFeeConfigInstruction` function is used to decode an InitializeTransferFeeConfig instruction and validate it. It takes a transaction instruction and the SPL Token program account as input parameters. The function checks if the instruction's program ID matches the provided program ID, validates the instruction data length, and decodes the instruction data. If the decoded instruction is valid, it returns a DecodedInitializeTransferFeeConfigInstruction object containing the program ID, keys, and data."
}